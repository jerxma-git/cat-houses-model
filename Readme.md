# Имитационная модель производства кошачьих домиков (MVP)

## Описание системы
Сбор сырья -> обработка -> изготовление деталей -> сбор домиков -> тестирование котиками -> сбор результатов -> утиль/продажа 

## Сущности системы

### Поставки
- **Поставка дерева**
    - количество деревьев (число)
    - качество дерева (число от 0 до 1): случайная величина
- **Поставка ткани**
    - количество рулонов (число)
    - качество ткани (число от 0 до 1): случайная величина
- **Поставка краски**
    - объем краски (число)
    - цвет краски (2 видов)
    - качество краски (число от 0 до 1): случайная величина

### Детали домиков
- **Деревянная деталь**
    - тип детали (3 видов)
    - цвет (4 вида, те же)
    - качество детали (число от 0 до 1): случайная величина
- **Тканевая деталь**
    - тип детали (2 вида)
    - цвет детали (4 вида, те же)
    - качество детали (число от 0 до 1): случайная величина

### Домики
- **Обычный домик**
    - 10 деревянных деталей вида 1
    - 1 деревянных детаей вида 2
    - 3 тканевых детали вида 1
    - качество сборки домика (число от 0 до 1): случайная величина
- **Премиум домик**
    - 15 деревянных деталей вида 1
    - 2 деревянных деталей вида 2
    - 3 деревянных деталей вида 3
    - 3 тканевых детали вида 1
    - 2 тканевых детали вида 2
    - качество сборки домика (число от 0 до 1): случайная величина

## Процессы системы

### 1. Подготовка материалов
**1.1 Закупка материалов**
- Вход:
    - Планируемое количество домиков (фиксированное число)
    - Процент премиум домиков (фиксированное число)
- Выход:
    - Партия дерева
    - Партия ткани
    - Партии краски (на детали и ткань)
- Параметры:
    - Время, затраченное на закупку: фиксированное число
    - Качество закупаемых дерева, краски, ткани в разрезе премиум/обычных: 6 случайных величин 
- Описание процесса
    - Происходит закупка сырья и доставка на завод по производству деталей
    - Считаем, что детали закупаются отдельно для премиум и обычных домиков, но потом гребутся в одну кучу и сортируются по качеству

**1.1 Обработка дерева**
- Вход: 
  - Партия дерева
  - Порция краски
- Выход:
  - Обработанные деревянные детали
- Параметры:
  - Качество обработки: случайная величина
  - Время обработки одной детали: фиксированная величина
  - Шанс испортить деталь: случайная величина
- Описание процесса:
    - Для простоты считаем, что на 1 любую деталь нужна 1 единица дерева
    - Дерево обрабатывается, окрашивается, пропорционально расходуя ресурсы на типы деталей
    - Отфильтровываются испорченные детали
    - Направляются на производство
    - Качество деталей определяется качеством сырья и качеством обработки (среднее геометрическое)

**1.2 Обработка ткани**
- Вход:
  - Партия ткани
  - Порция краски
- Выход:
  - Обработанные тканевые детали
- Параметры:
  - Время обработки одной детали: случайная величина
  - Шанс испортить деталь: случайная величина
- Описание процесса:
    - Ткань обрабатывается, окрашивается, пропорционально расходуюя ресурсы на по типы деталей
    - Отфильтровываются испорченные детали
    - Направляются на производство
    - Качество деталей определяется качеством сырья и качеством обработки


### 2. Производство домика
**2.2 Сборка домика** 
- Вход:
    - Планируемое количество домиков (фиксированное число)
    - Процент премиум домиков (фиксированное число)
    - Набор деревянных деталей
    - Набор тканевых деталей
    - Количество сборщиков
- Выход:
    - Набор готовых премиум и обычных домиков
- Параметры:
    - Количество сборщика: фиксированное число
    - Время сборки обычного домика: случайная величина
    - Время сборки премиум домика: случайная величина
    - Шанс испортить деталь в процессе сборки: случайная величина
    - Качество сборки домика: случайная величина (зависит от экспертизы сотрудника)
    - Стандарты качества:
        - минимальное качество деталей, подходящих для премиум домика: пороговая фиксированная величина от 0 до 1
        - минимальное общее качество премиум домика: пороговая фиксированная величина от 0 до 1
- Описание процесса
    - Сборщики делают домики из деталей, расходуя детали по убыванию качества
    - Приоритет отдается премиум домикам до тех пор, пока не выполнится план, либо не закончатся детали, подходящие для сборки премиум домика
    - Собранные домики направляются на тестирование

### 3. Тестирование
**3.1 Тестирование домика**
- Вход:
    - Набор собранных домиков
    - Количество котов (фиксировано)
- Выход:
    - Результаты для каждого домика:
        - Время первого захода кота в домик
        - Время пребывания кота в домике
        - Вердикт по годности домика к продаже
- Параметры:
    - Время до захода котика в домик: случайная величина (зависит от случайного фактора + качества домика)
    - Время пребывания котика в домике: случайная величина (зависит от случайного фактора + качества домика + усталости котика)
    - Максимальное время захода котика в домик
    - Максимальное время пребывания котика в домике
    - Максимальная допустимая усталость котика для проверки
    - Критерии положительного вердикта годности:
        - Максимальное время захода (фиксированная величина) 
        - Минимальное время пребывания в домике (фиксированная величина)
- Описание процесса:
    - По очереди для каждого домика проводится тест свободным в моменте котиком, пока все дома не будут протестированы (разные котики могут одновременно тестировать дома, но на один дом распределяется один котик)
    - Начинается тест (котика запускают в небольшое помещение с домиком)
    - Замеряется время от начала теста до захода котика в домик
    - Замеряется время, которое котик проводит в домике
    - Тест завершается, либо когда котик выходит из домика, либо когда превышается один из лимитов времени
    - Котик освобождается
    - Выносится вердикт по годности домика
    - Тестирование заканчивается, когда будут обработаны все домики

**3.2 Агрегация результатов**
- Вход:
    - Набор домиков
    - Набор результатов по домикам
- Выход:
    - Набор домиков на утилизацию
    - Набор домиков в продажу
    - Собранная статистика
- Параметры:
    - Время, затраченное на распределение и сбор данных одного домика: случайная величина
- Описание процесса
    - Результаты домиков рассматриваются
    - Домики распределяются на утиль и в продажу


## Используемые распределения

### 1. Качество сырья и продукции (сырье, обработка, сборка)
#### Для обычных материалов/домиков:
- **Распределение**: Нормальное
- **Параметры**:
    - μ = 0.7
    - σ = 0.1
- **Обоснование**: 
    - Среднее качество 0.7 отражает стандартные материалы/подходы
    - Разброс 0.1 позволяет естественные вариации

#### Для премиум материалов/домиков:
- **Распределение**: Нормальное
- **Параметры**:
    - μ = 0.85
    - σ = 0.05
- **Обоснование**:
    - Более высокое среднее качество (0.85)
    - Меньший разброс (σ=0.05) - строгий контроль качества

### 2. Брак на производстве
#### Вероятность брака:
- **Распределение**: Бернулли (бинарное)
- **Параметры**:
    - Обычные: p=0.03
    - Премиум: p=0.01
- **Обоснование**:
    - Простая модель "брак/не брак"
    - Более низкая вероятность брака для премиум (1% vs 3%)

### 3. Сборка домика
#### Время пребывания кота:
- **Распределение**: Нормальное
- **Параметры**:
    - μ = 5 * количество деталей
    - σ = 1 * количество деталей
- **Обоснование**:
    - Стандартный процесс с небольшими отклонениями от нормы
    - Прямая зависимость от количества деталей домика


### 3. Тестирование котами
#### Время до захода кота:
- **Распределение**: Экспоненциальное
- **Параметры**:
    - Базовый λ = 1/15
    - Модификатор: (1.3 - качество_домика)
    - Итоговый λ = (1/15)*(1.3 - качество_домика)
- **Обоснование**:
    - В большинстве случаев котики заходят в домики достаточно рано, а долгие незаходы маловероятны
    - Чем лучше домик (качество), тем быстрее заход (среднее время);

#### Время пребывания кота:
- **Распределение**: Нормальное
- **Параметры**:
    - μ = 20 * качество_домика
    - σ = 5
- **Обоснование**:
    - Стандартный процесс с небольшими отклонениями от нормы
    - Прямая зависимость от качества домика



## Входные параметры системы

### 1. Параметры производства
- **Размер производственной партии**: 50-100 домиков
- **Процент премиум домиков в партии**: 20-40%
- **Количество сборщиков**: 3-5 человек
- **Количество котов-тестировщиков**: 4-10 котов

### 2. Критерии качества
- **Минимальное качество деталей для премиум домиков**: 0.75
- **Минимальное общее качество премиум домика после сборки**: 0.8

### 3. Параметры тестирования
- **Максимальное время тестирования одного домика**: 60 минут
- **Критерии успешного теста**:
    - Максимальное время до захода кота: 30 минут
    - Минимальное время пребывания кота: 5 минут

### 4. Временные параметры
- **Время закупки материалов**: 120 минут
- **Обработка единицы дерева**: 10 минут
- **Обработка единицы ткани**: 5 минут
- **Изготовление одной деревянной детали**: 2, 3, 5 минут для типов соответственно
- **Изготовление одной тканевой детали**: 1, 2 минут для типов соответственно




## Анализируемые величины и ожидаемые результаты моделирования

**Производственные показатели:**
1. **Процент бракованных домиков**  
    - Общий процент брака: 10-15% от общего производства  
    - По категориям:  
        - Обычные: 12-16%  
        - Премиум: 8-12%  

2. **Распределение причин негодности домика**  
    - Испорчены при изготовлении: ~20% от общего брака  
    - Кот не зашел: ~35%  
    - Кот не пробыл достаточно времени: 55%  

3. **Время затрачиваемое на изготовление 1 пригодного домика**
    - среднее время: 30 минут
    - среднее человеко-кото-станко-время: 2 часа 

**Показатели тестирования:**
4. **Среднее время тестирования**  
   - Полный цикл теста: 30-60 минут на домик  

5. **Среднее время захода кота**  
   - Обычные домики: 18-25 минут  
   - Премиум домики: 12-18 минут  

6. **Среднее время пребывания в домике**  
   - Обычные домики: 10-15 минут  
   - Премиум домики: 15-25 минут 